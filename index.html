<!DOCTYPE html>
<html>
<head>
	<title>Hangman</title>
</head>
<body>

<img src="assets/images/nbaLogo.jpg" alt="NBA Logo"/>

<div id="game">
	<p id="instructions">Press any key to get started!</p>
	<p id="wins">Wins: </p>
	<p>CURRENT WORD</p>
	<p id="wordDisplay"></p>
	<p id="guessesRemainingDisplay">Number of guesses remaining: 5</p>
	<p id="guessedDisplay">Letters already guessed: </p>
</div>

<script type="text/javascript">

	var wins = 0;
	var guesses = 5;
	var currentTeamArray = [];
	var userGuessArray = [];
	var wordArray = [];
	var wordForScreen;
	var counter = 0;

	var teams = ["BLAZERS", "BUCKS", "BULLS", "CAVALIERS", "CELTICS", "CLIPPERS", "GRIZZLIES", "HAWKS", "HEAT", "HORNETS", "JAZZ", "KINGS", "KNICKS", "LAKERS", "MAGIC", "MAVERICKS", "NETS", "NUGGETS", "PACERS", "PELICANS", "PISTONS", "RAPTORS", "ROCKETS", "SIXERS", "SPURS", "SUNS", "TIMBERWOLVES", "THUNDER", "WARRIORS", "WIZARDS"];

// Create code to randomly choose one of the 30 teams 
	var currentTeam = teams[Math.floor(Math.random()*teams.length)];

	console.log(currentTeam);

	// fills in currentTeamArray with current team. 
	// fills in wordArray with correct amount of _ _ _ _
	for (i = 0; i < (currentTeam.length); i++) {
		currentTeamArray[i] = currentTeam.charAt(i);
		wordArray[i] = '_';
		console.log(currentTeamArray[i]);
		console.log(wordArray[i]);
	}


/////////////////////////////////////////////////////////////////////////////////////

	// Captures Key Clicks
	document.onkeyup = function(event) {

		counter++;

		// Determines which exact key was selected. Make it lowercase
		var userGuess = String.fromCharCode(event.keyCode).toUpperCase();

		// Alerts with user guess
		// alert(userGuess);

		// START THE GAME - starts on any key press
		if (counter === 1) {
			wordForScreen = wordArray.join([separator = ' ']);
			document.getElementById("wordDisplay").innerHTML = wordForScreen;
			document.getElementById("instructions").innerHTML = "Let the games begin!";
			return;	
		}

		// error checking - must be a letter
		if (userGuess < 'A' || userGuess > 'Z') {
			return alert("That's not a letter!");
		} 

		//error checking - makes sure you haven't guessed that already
		for (var i = 0; i < (currentTeamArray.length); i++) {
			if (userGuessArray.indexOf(userGuess) != -1) {
				return alert("you already guess that!");
			}	
		}

		// Puts user guess into userGuessArray
		userGuessArray.push(userGuess);
		console.log(userGuessArray);

		//checks to see if your guess is correct	
		if (currentTeamArray.indexOf(userGuess) === -1) {
			document.getElementById("guessedDisplay").innerHTML = "Letters already guessed: " + userGuessArray;
			guesses--;
			document.getElementById("guessesRemainingDisplay").innerHTML = "Number of guesses remaining: " + guesses;			
		} else {
			// console.log(userGuess);
			// console.log("team length: " + currentTeamArray.length);
			// console.log("word length: " + wordArray.length);
			for (var i = 0; i < (currentTeamArray.length); i++) {
				if (currentTeamArray[i] === userGuess) {
					wordArray[i] = userGuess;
					document.getElementById("guessedDisplay").innerHTML = "Letters already guessed: "+userGuessArray;
					wordForScreen = wordArray.join([separator = ' ']);
					document.getElementById("wordDisplay").innerHTML = wordForScreen;
				} 
			}
		}
			//debugging - shows wordArray after that
			console.log(wordArray);

// YOU WON ////////////////////////////////////////////				
		for (var i = 0; i < (wordArray.length); i++) {
			if (wordArray.indexOf("_") === -1) {

			//make sure to let the user know they are a winner
				document.getElementById("instructions").innerHTML = "You're a winner! Press any key to play again."
				currentTeamArray = [];
				wordArray = [];

		 	// Create code to randomly choose one of the 30 teams
				var currentTeam = teams[Math.floor(Math.random()*teams.length)];

			//updating the array
				for (i = 0; i < (currentTeam.length); i++) {
					currentTeamArray[i] = currentTeam.charAt(i);
					wordArray[i] = '_';
					console.log(currentTeamArray[i]);
					console.log(wordArray[i]);
				}
			
				guesses = 5;
				document.getElementById("guessesRemainingDisplay").innerHTML = "Number of guesses remaining: " + guesses;
				userGuessArray = [];
				document.getElementById("guessedDisplay").innerHTML = "Letters already guessed: ";

				counter = 0;
				wins++;
				document.getElementById("wins").innerHTML = "Wins: "+wins;
				// return;
			}	
		} 	

// YOU LOST ////////////////////////////////////////////	
		if (guesses === 0) {

		//make sure to let the user know they are a loser
			document.getElementById("instructions").innerHTML = "You're a freaking loser. Press any key to try again."
			currentTeamArray = [];
			wordArray = [];

	 	// Create code to randomly choose one of the 30 teams
			var currentTeam = teams[Math.floor(Math.random()*teams.length)];

		//updating the array
			for (i = 0; i < (currentTeam.length); i++) {
				currentTeamArray[i] = currentTeam.charAt(i);
				wordArray[i] = '_';
				console.log(currentTeamArray[i]);
				console.log(wordArray[i]);
			}
			
			guesses = 5;
			document.getElementById("guessesRemainingDisplay").innerHTML = "Number of guesses remaining: " + guesses;
			userGuessArray = [];
			document.getElementById("guessedDisplay").innerHTML = "Letters already guessed: ";

			counter = 0;
		}

	}	




//////////////////////////////////////////////////////////////////////////////////




</script>






</body>
</html>


